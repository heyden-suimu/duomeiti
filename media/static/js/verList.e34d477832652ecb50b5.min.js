webpackJsonp([10,12],{30:function(e,t,a){e.exports={default:a(31),__esModule:!0}},31:function(e,t,a){var n=a(2),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},143:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(30),r=n(o),l=a(9),i=n(l),s=a(8),c=n(s),u=a(10);t.default={data:function(){return{searchtext:"",value1:"",userText:"",tableData:[],multipleSelection:[],userlist:"",date:""}},mounted:function(){},created:function(){this.get_Verlist()},compontents:{},props:["alertText"],methods:{handleClick:function(e,t){this.$router.push("addVer?id="+e+"&type="+t)},handleSelectionChange:function(e){this.multipleSelection=e},deleteRow:function(e,t){t.splice(e,1)},get_Verlist:function(){var e=this;return(0,c.default)(i.default.mark(function t(){var a,n,o,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.getVerlist)();case 2:a=t.sent,e.tableData=a.res.otas,n=a.res.otas,o=0,r=n.length;case 6:if(!(o<r)){t.next=16;break}if(1==n[o].available?e.tableData[o].available="已发布":e.tableData[o].available="未发布","patch"==n[o].type?e.tableData[o].configuration.updateMode="--":"full"==n[o].configuration.updateMode?e.tableData[o].configuration.updateMode="全量":"incremental"==n[o].configuration.updateMode&&(e.tableData[o].configuration.updateMode="增量"),n[o].configuration.forceMode&&"mobileApp"!=n[o].type?e.tableData[o].configuration.forceMode="开":n[o].configuration.forceMode||"mobileApp"==n[o].type?e.tableData[o].configuration.forceMode="--":e.tableData[o].configuration.forceMode="关",n[o].constraint){t.next=12;break}return t.abrupt("break",16);case 12:n[o].constraint.hasOwnProperty("blackList")?e.tableData[o].userlist="黑":n[o].constraint.hasOwnProperty("whiteList")?e.tableData[o].userlist="白":e.tableData[o].userlist="--";case 13:o++,t.next=6;break;case 16:e.$store.state.verList=a.res.otas;case 17:case"end":return t.stop()}},t,e)}))()},search:function(e,t){var a=JSON.parse((0,r.default)(this.$store.state.verList));console.log(this.$store.state.verList);for(var n=0;n<a.length;n++)a[n].version.indexOf(e)!=-1&&this.date.indexOf(t)!=-1||(a.splice(n,1),n--);this.tableData=a,console.log(a),console.log(this.tableData)},open:function(e,t,a){var n=this;this.$confirm("此操作将删除该版本记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.splice(e,1),(0,u.deleteVer)(a).then(function(e){n.$message({type:"success",message:e.message})})}).catch(function(){n.$message({type:"info",message:"已取消删除"})})},showUser:function(e){console.log(e)},user_Text:function(e){this.tableData[e].constraint.hasOwnProperty("blackList")?this.userText=this.tableData[e].constraint.blackList:this.tableData[e].constraint.hasOwnProperty("whiteList")?this.userText=this.tableData.constraint.whiteList:this.userText=""}}}},204:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,".container .el-row[data-v-4eaa6d97]{background:#d3dce6;margin-bottom:20px;height:60px;font-size:16px;line-height:60px;border-radius:4px;padding-left:3%;min-width:900px}.container .el-row .el-col[data-v-4eaa6d97]{text-align:center;font-size:14px;color:#48576a}.container .el-row .el-col[data-v-4eaa6d97]:nth-child(3){text-align:right;margin-left:-.1rem;margin-right:.08rem}.container .el-row .el-col[data-v-4eaa6d97]:nth-child(5){margin-left:2%}.container .el-table .el-table-column[data-v-4eaa6d97]{height:40px;overflow:hidden}","",{version:3,sources:["/./src/page/version/verList.vue"],names:[],mappings:"AACA,oCAAoC,mBAAmB,mBAAmB,YAAY,eAAe,iBAAiB,kBAAkB,gBAAgB,eAAe,CACtK,AACD,4CAA4C,kBAAkB,eAAe,aAAa,CACzF,AACD,yDAAyD,iBAAiB,mBAAmB,mBAAmB,CAC/G,AACD,yDAAyD,cAAc,CACtE,AACD,uDAAuD,YAAY,eAAe,CACjF",file:"verList.vue",sourcesContent:["\n.container .el-row[data-v-4eaa6d97]{background:#D3DCE6;margin-bottom:20px;height:60px;font-size:16px;line-height:60px;border-radius:4px;padding-left:3%;min-width:900px\n}\n.container .el-row .el-col[data-v-4eaa6d97]{text-align:center;font-size:14px;color:#48576A\n}\n.container .el-row .el-col[data-v-4eaa6d97]:nth-child(3){text-align:right;margin-left:-.1rem;margin-right:.08rem\n}\n.container .el-row .el-col[data-v-4eaa6d97]:nth-child(5){margin-left:2%\n}\n.container .el-table .el-table-column[data-v-4eaa6d97]{height:40px;overflow:hidden\n}\n"],sourceRoot:"webpack://"}])},266:function(e,t,a){var n=a(204);"string"==typeof n&&(n=[[e.id,n,""]]);a(4)(n,{});n.locals&&(e.exports=n.locals)},295:function(e,t,a){a(266);var n=a(3)(a(143),a(306),"data-v-4eaa6d97",null);e.exports=n.exports},306:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{attrs:{sapn:24}},[a("el-col",{attrs:{span:2}},[e._v("\n          版本信息\n      ")]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.searchtext,callback:function(t){e.searchtext=t},expression:"searchtext"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("\n          发布日期\n      ")]),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.search(e.searchtext,e.value1)}}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"版本名称",sortable:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"版本号",sortable:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"升级类型",sortable:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"黑白名单",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{ref:"popover2",attrs:{placement:"right",title:t.row.userlist+"名单",width:"600",trigger:"click",content:e.userText,"popper-class":"serdes"},on:{show:function(a){e.user_Text(t.$index)}}}),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover2",arg:"popover2"}],staticStyle:{color:"#ccc"},attrs:{type:"text",size:"small"}},[e._v("\n              "+e._s(t.row.userlist)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"configuration.updateMode",label:"增量类型",width:"95"}}),e._v(" "),a("el-table-column",{attrs:{prop:"configuration.forceMode",label:"强制开关",width:"95"}}),e._v(" "),a("el-table-column",{attrs:{prop:"configuration.offTime",label:"熄火时间",sortable:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"版本描述",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{ref:"popover2",attrs:{placement:"right",title:"版本描述",width:"800",trigger:"click",content:t.row.description,"popper-class":"serdes"}}),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover2",arg:"popover2"}],staticStyle:{color:"#ccc"},attrs:{type:"text",size:"small"}},[e._v("\n          查看\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"available",label:"是否发布",width:"95","class-name":"description"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClick(t.row.id,"read")}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClick(t.row.id,"edit")}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.open(t.$index,e.tableData,t.row.id)}}},[e._v("删除")])]}}])})],1)],1)},staticRenderFns:[]}}});